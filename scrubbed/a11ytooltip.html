<!DOCTYPE html>
<html lang="en">
<head>
  <!-- 		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Wesley Cocks"/>
  <meta name="Keywords" content="accessibility html aria WCAG"/>
  <meta name="Description" content="An index page for accessibility implementations"/>
  <meta name="robots" content="all"/>
  <meta name="docref" content="a11y test index - a11yindex.html"/>
  <title aria-label="Accessibility Tests Index Page">Accessibility Tooltip Page</title>
  <link type="image/vnd.microsoft.icon" rel="shortcut icon" href="/devtools-github/favicon.ico"/>
  <link type="image/vnd.microsoft.icon" rel="icon" href="/devtools-github/favicon.ico"/>
  <link rel="preload"
        href="https://nafta-service-dev.mbusa.com/assets/now-ui-core/packages/foundation/0.14.0/assets/fonts/nafta-icons.woff"
        as="font" type="font/woff" crossorigin="">
  <link rel="stylesheet"
        href="https://nafta-service-dev.mbusa.com/assets/now-ui-core/packages/foundation/0.14.0/css/globals.css">
  <link rel="stylesheet" href="https://stage.mbusa.com/etc/designs/mb-nafta/css/main.css">
  <style>
    body {
      padding: 20px;
    }
    button {
      padding: 5px;
      border: 1px solid #000000;
    }
  </style>

  <script>

    function toggleTooltip(element, displayTooltip) {
      console.log('toggleTooltip - displayTooltip', displayTooltip);
      element.setAttribute('aria-expanded', displayTooltip);
      if (displayTooltip) {
        element.parentElement.classList.add('tool-tip--active');
      } else {
        element.parentElement.classList.remove('tool-tip--active');
      }
    }

    function tooltipFocus(element) {
      console.log('tooltipFocus');
      toggleTooltip(element, true);
    }

    function tooltipBlur(element) {
      console.log('tooltipBlur');
      toggleTooltip(element, false);
    }

    function tooltipMouseEnter(element) {
      console.log('tooltipMouseEnter');
      toggleTooltip(element, true);
    }

    function tooltipMouseLeave(element) {
      console.log('tooltipMouseLeave');
      toggleTooltip(element, false);
    }

    function tooltipMouseDown(element) {
      console.log('tooltipMouseDown');
      toggleTooltip(element, !(element.getAttribute('aria-expanded') === 'true'));
    }

    function tooltipKeyDown(event) {
      // console.log('tooltipKeyDown');
      console.log('tooltipKeyDown - event', event.key);

      const element = event.target;

      // Win10 Chrome sends a MouseDown for the Enter and Space keys,
      // as does and MacOS Safari and Chrome with the VoiceOver command (Ctrl-Option-Space),
      // so they get captured by the MouseDown event.
      // MacOS Safari and Chrome fire KeyDown for Enter and Spacebar
      // The " " empty space is legacy IE 11
      if (event.key === " " || event.key === "Enter" || event.key === "Spacebar") {
        event.preventDefault();
        toggleTooltip(element, !(element.getAttribute('aria-expanded') === 'true'));
      } else if (event.key === "Escape") {
        event.preventDefault();
        toggleTooltip(element, false);
      }
    }
  </script>
</head>
<body>
<div id="container">
  <div id="chewycenter">
    <h1>Accessibility Tooltip Page</h1>
    <a href="#" id="topAnchor">Top Anchor</a>

    <h2>Focus</h2>

    <span class="model-line-selector__instructional-heading-tool-tip">
      <div id="westest-wrapper"
           data-tool-tip="" class="tool-tip tool-tip--default tool-tip--open-down ">
        <div id="westest" data-tool-tip-icon="" class="tool-tip__icon" data-analytics-trigger="cta"
             type="button" role="button"
             tabindex="0"
             aria-label="More Info Tooltip"
             onfocus="tooltipFocus(this)"
             onblur="tooltipBlur(this)"
             onmousedown="tooltipMouseDown(this)"
             onKeyDown="tooltipKeyDown(event)"
             aria-expanded="false">
          <span class="offscreen">Still Available</span>
        </div>
        <span class="tool-tip__caret"></span>
        <div role="status">
          <div id="tool-tip-flyout_westest" class="tool-tip__flyout "
               data-tool-tip-flyout=""
               data-analytics-container="tooltip-flyout">
            <p>To simplify outfitting your Mercedes-Benz, complementary features are bundled into distinctive, generously appointed "lines." Please select a line to start your build.</p>
          </div>
        </div>
      </div>
    </span>
    <br><br>
    <button>Add to Cart</button>
    <br><br>

    <h2>Click</h2>

    <span class="model-line-selector__instructional-heading-tool-tip">
      <div id="westest-wrapper3"
           data-tool-tip="" class="tool-tip tool-tip--default tool-tip--open-down ">
        <button id="westest3" data-tool-tip-icon="" class="tool-tip__icon" data-analytics-trigger="cta"
             type="button" role="button"
             tabindex="0"
             aria-label="More Info Tooltip"
             onblur="tooltipBlur(this)"
             onmousedown="tooltipMouseDown(this)"
             onKeyDown="tooltipKeyDown(event)"
             aria-expanded="false">
          <span class="offscreen">Still Available</span>
                  <span class="tool-tip__caret"></span>
        <div role="status">
          <div id="tool-tip-flyout_westest3" class="tool-tip__flyout "
               data-tool-tip-flyout=""
               data-analytics-container="tooltip-flyout">
            <p>To simplify outfitting your Mercedes-Benz, complementary features are bundled into distinctive, generously appointed "lines." Please select a line to start your build.</p>
          </div>
        </div>
        </button>

      </div>
    </span>
    <br><br>
    <button>Add to Cart</button>
    <br><br>

    <h2>Hover and Focus</h2>

    <span class="model-line-selector__instructional-heading-tool-tip">
      <div id="westest-wrapper2"
           data-tool-tip="" class="tool-tip tool-tip--default tool-tip--open-down ">
        <div id="westest2" data-tool-tip-icon="" class="tool-tip__icon" data-analytics-trigger="cta"
             type="button" role="button"
             tabindex="0"
             aria-label="More Info Tooltip"
             onfocus="tooltipFocus(this)"
             onblur="tooltipBlur(this)"
             onmouseenter="tooltipMouseEnter(this)"
             onmouseleave="tooltipMouseLeave(this)"
             onmousedown="tooltipMouseDown(this)"
             onKeyDown="tooltipKeyDown(event)"
             aria-expanded="false">
          <span class="offscreen">Still Available</span>
        </div>
        <span class="tool-tip__caret"></span>
        <div role="status">
          <div id="tool-tip-flyout_westest2" class="tool-tip__flyout "
               data-tool-tip-flyout=""
               data-analytics-container="tooltip-flyout">
            <p>To simplify outfitting your Mercedes-Benz, complementary features are bundled into distinctive, generously appointed "lines." Please select a line to start your build.</p>
          </div>
        </div>
      </div>
    </span>
    <br><br>
    <button>Add to Cart</button>
    <br><br>
  </div>
</div>
</body>
<script>
</script>
</html>